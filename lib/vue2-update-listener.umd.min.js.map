{"version":3,"file":"vue2-update-listener.umd.min.js","mappings":"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","sources":["webpack://vue2-update-listener/webpack/universalModuleDefinition","webpack://vue2-update-listener/external umd {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://vue2-update-listener/webpack/bootstrap","webpack://vue2-update-listener/webpack/runtime/compat get default export","webpack://vue2-update-listener/webpack/runtime/define property getters","webpack://vue2-update-listener/webpack/runtime/hasOwnProperty shorthand","webpack://vue2-update-listener/webpack/runtime/make namespace object","webpack://vue2-update-listener/webpack/runtime/publicPath","webpack://vue2-update-listener/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue2-update-listener/./packages/updateListener/utils/modalPromise.js","webpack://vue2-update-listener/./packages/updateListener/components/confirm/index.vue","webpack://vue2-update-listener/./packages/updateListener/components/confirm/qingmu.vue","webpack://vue2-update-listener/./packages/updateListener/layout/mask.vue","webpack://vue2-update-listener/./node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js","webpack://vue2-update-listener/./packages/updateListener/layout/mask.vue?cad3","webpack://vue2-update-listener/./packages/updateListener/mixins/default.js","webpack://vue2-update-listener/packages/updateListener/components/confirm/qingmu.vue","webpack://vue2-update-listener/./packages/updateListener/components/confirm/qingmu.vue?7255","webpack://vue2-update-listener/./packages/updateListener/components/confirm/qingmu.vue?5560","webpack://vue2-update-listener/./packages/updateListener/components/confirm/element.vue","webpack://vue2-update-listener/packages/updateListener/components/confirm/element.vue","webpack://vue2-update-listener/./packages/updateListener/components/confirm/element.vue?fe05","webpack://vue2-update-listener/./packages/updateListener/components/confirm/element.vue?0f70","webpack://vue2-update-listener/packages/updateListener/components/confirm/index.vue","webpack://vue2-update-listener/./packages/updateListener/components/confirm/index.vue?ccd9","webpack://vue2-update-listener/./packages/updateListener/components/confirm/index.vue?31dd","webpack://vue2-update-listener/./packages/updateListener/components/confirm/confirm.js","webpack://vue2-update-listener/./packages/updateListener/index.js","webpack://vue2-update-listener/./packages/index.js","webpack://vue2-update-listener/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue2-update-listener\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"vue2-update-listener\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__274__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__274__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","/*\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-02-27 18:26:15\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-28 10:51:10\r\n */\r\n\r\n/**\r\n * modal调用promise化\r\n * @param {Object} comp Vue组件配置对象\r\n * @param {Object} defaultConfig 默认配置对象\r\n * @param {Element} mountedEl 挂载对象\r\n * @returns {Promise} Promise对象\r\n */\r\n\r\n// import Vue from 'vue'\r\nimport Vue from 'vue'\r\n\r\nexport function modalPromise(comp, defaultConfig, mountedEl) {\r\n  return (config, removable = true) => {\r\n    return new Promise((resolve, reject) => {\r\n      const props = Object.assign({}, defaultConfig, config)\r\n      const Ctor = Vue.extend(comp)\r\n      const vm = new Ctor({\r\n        el: document.createElement('div'),\r\n        propsData: props\r\n      })\r\n\r\n      vm.$on('cancel', function (data) {\r\n        this.$destroy()\r\n        const parent = this.$el.parentElement\r\n        parent && parent.removeChild(this.$el)\r\n        reject(data)\r\n      })\r\n\r\n      vm.$on('confirm', function (data) {\r\n        if (removable) {\r\n          this.$destroy()\r\n          const parent = this.$el.parentElement\r\n          parent && parent.removeChild(this.$el)\r\n        }\r\n        resolve(data, this)\r\n      })\r\n\r\n      if (!mountedEl) {\r\n        mountedEl = document.body\r\n      }\r\n\r\n      mountedEl.appendChild(vm.$el)\r\n    })\r\n  }\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c(_vm.confirmTypeNames[_vm.type],{tag:\"component\",attrs:{\"content\":_vm.content},on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ConfirmMask',[_c('div',{staticClass:\"confirm-qingmu__body\"},[_c('div',{staticClass:\"confirm-qingmu__wrapper\"},[_c('div',{staticClass:\"confirm-qingmu__title\"},[_vm._v(\" 新版上线啦！ \")]),_c('div',{staticClass:\"confirm-qingmu__content\"},[_c('div',{staticClass:\"confirm-qingmu__desc\"},[_vm._v(\" \"+_vm._s(_vm.content)+\" \")])]),_c('div',{staticClass:\"confirm-qingmu__footer\"},[_c('div',{staticClass:\"confirm-qingmu__btn confirm-qingmu__btn--confirm\",on:{\"click\":_vm.confirm}},[_vm._v(\" 立即更新 \")]),_c('div',{staticClass:\"confirm-qingmu__btn confirm-qingmu__btn--cancel\",on:{\"click\":_vm.cancel}},[_c('span',[_vm._v(\"暂不更新\")])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"confirm-mask update-confirm-loader\"},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./mask.vue?vue&type=template&id=228608f1\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-02-19 13:49:58\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-20 11:14:23\r\n */\r\nimport ConfirmMask from '../layout/mask.vue'\r\n\r\nexport default {\r\n  components: {\r\n    ConfirmMask\r\n  },\r\n  props: {\r\n    content: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'qingmu'\r\n    }\r\n  },\r\n  methods: {\r\n    cancel() {\r\n      this.$emit('cancel')\r\n    },\r\n    confirm() {\r\n      this.$emit('confirm')\r\n    }\r\n  }\r\n}","<!--\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-02-19 11:59:50\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-23 14:44:36\r\n-->\r\n<template>\r\n  <ConfirmMask>\r\n    <div class=\"confirm-qingmu__body\">\r\n      <div class=\"confirm-qingmu__wrapper\">\r\n        <div class=\"confirm-qingmu__title\">\r\n          新版上线啦！\r\n        </div>\r\n        <div class=\"confirm-qingmu__content\">\r\n          <div class=\"confirm-qingmu__desc\">\r\n            {{ content }}\r\n          </div>\r\n        </div>\r\n        <div class=\"confirm-qingmu__footer\">\r\n          <div\r\n            class=\"confirm-qingmu__btn confirm-qingmu__btn--confirm\"\r\n            @click=\"confirm\"\r\n          >\r\n            立即更新\r\n          </div>\r\n          <div\r\n            class=\"confirm-qingmu__btn confirm-qingmu__btn--cancel\"\r\n            @click=\"cancel\"\r\n          >\r\n            <span>暂不更新</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ConfirmMask>\r\n</template>\r\n\r\n<script>\r\nimport DefaultMixins from '../../mixins/default'\r\n\r\nexport default {\r\n  name: 'UpdateConfirmQingmu',\r\n  mixins: [DefaultMixins]\r\n}\r\n\r\n</script>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-124.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./qingmu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-124.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./qingmu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./qingmu.vue?vue&type=template&id=65a28e1d\"\nimport script from \"./qingmu.vue?vue&type=script&lang=js\"\nexport * from \"./qingmu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ConfirmMask',[_c('div',{staticClass:\"confirm-element__wrapper\"},[_c('div',{staticClass:\"confirm-element__header\"},[_c('div',{staticClass:\"confirm-element__title\"},[_vm._v(\" 提示 \")]),_c('div',{staticClass:\"confirm-element__close\",on:{\"click\":_vm.cancel}},[_vm._v(\" × \")])]),_c('div',{staticClass:\"confirm-element__content\"},[_c('div',{staticClass:\"confirm-element__desc\"},[_vm._v(\" \"+_vm._s(_vm.content)+\" \")])]),_c('div',{staticClass:\"confirm-element__btns\"},[_c('div',{staticClass:\"confirm-element__btn confirm-element__btn--default\",on:{\"click\":_vm.cancel}},[_vm._v(\" 取消 \")]),_c('div',{staticClass:\"confirm-element__btn confirm-element__btn--primary\",on:{\"click\":_vm.confirm}},[_vm._v(\" 确定 \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-01-10 17:01:44\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-23 14:44:12\r\n-->\r\n<template>\r\n  <ConfirmMask>\r\n    <div class=\"confirm-element__wrapper\">\r\n      <div class=\"confirm-element__header\">\r\n        <div class=\"confirm-element__title\">\r\n          提示\r\n        </div>\r\n        <div\r\n          class=\"confirm-element__close\"\r\n          @click=\"cancel\"\r\n        >\r\n          &times;\r\n        </div>\r\n      </div>\r\n      <div class=\"confirm-element__content\">\r\n        <div class=\"confirm-element__desc\">\r\n          {{ content }}\r\n        </div>\r\n      </div>\r\n      <div class=\"confirm-element__btns\">\r\n        <div\r\n          class=\"confirm-element__btn confirm-element__btn--default\"\r\n          @click=\"cancel\"\r\n        >\r\n          取消\r\n        </div>\r\n        <div\r\n          class=\"confirm-element__btn confirm-element__btn--primary\"\r\n          @click=\"confirm\"\r\n        >\r\n          确定\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ConfirmMask>\r\n</template>\r\n\r\n<script>\r\nimport DefaultMixins from '../../mixins/default'\r\n\r\nexport default {\r\n  name: 'UpdateConfirmElement',\r\n  mixins: [DefaultMixins]\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-124.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./element.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-124.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./element.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./element.vue?vue&type=template&id=26c0f2be\"\nimport script from \"./element.vue?vue&type=script&lang=js\"\nexport * from \"./element.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-02-20 09:46:22\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-27 16:33:32\r\n-->\r\n<template>\r\n  <component\r\n    :is=\"confirmTypeNames[type]\"\r\n    :content=\"content\"\r\n    @confirm=\"confirm\"\r\n    @cancel=\"cancel\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport UpdateConfirmQingmu from './qingmu'\r\nimport UpdateConfirmElement from './element'\r\nimport DefaultMixins from '../../mixins/default'\r\n\r\nexport default {\r\n  name: 'UpdateConfirm',\r\n  components: {\r\n    UpdateConfirmQingmu,\r\n    UpdateConfirmElement\r\n  },\r\n  mixins: [DefaultMixins],\r\n  data() {\r\n    return {\r\n      confirmTypeNames: {\r\n        qingmu: 'UpdateConfirmQingmu',\r\n        element: 'UpdateConfirmElement'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</script>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-124.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-124.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=34ebd655\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Description:\r\n * @Author: 舌红\r\n * @Date: 2024-01-10 11:59:14\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-20 09:58:41\r\n */\r\nimport { modalPromise } from '../../utils/modalPromise'\r\nimport ConfirmDialog from './index.vue'\r\n\r\nexport async function openConfirm(config, mountedEl) {\r\n  return modalPromise(ConfirmDialog, config, mountedEl)()\r\n}\r\n","/*\r\n * @Description:\r\n * @Author: 舌红\r\n * @Date: 2024-01-09 17:38:09\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-22 10:04:29\r\n */\r\n\r\nimport { openConfirm } from './components/confirm/confirm'\r\n\r\n/**\r\n * 监听版本更新\r\n * @param {Object} Vue Vue对象\r\n * @param {Object} options 配置对象\r\n * @param {String} options.versionUrl 请求版本信息根目录路径，默认为'/dist'\r\n * @param {Number} options.interval 检查更新间隔时间，默认为5分钟，单位为毫秒\r\n * @param {Boolean} options.isTip 是否提示更新，默认为true\r\n * @param {Boolean} options.isListenJSError 是否监听JS报错，默认为false\r\n * @param {Object} options.modalProps 弹窗配置\r\n * @param {String} options.modalProps.content 弹窗内容\r\n * @param {Element} options.modalProps.mountedEl 弹窗挂载节点，默认为body\r\n * @param {String} options.type 弹窗样式类型，默认为'qingmu', 可选值为'element'、'qingmu'、'custom'(暂不支持)\r\n * @param {Boolean} options.showTest 弹窗常显测试\r\n * @returns {Void} 无返回值\r\n */\r\n\r\nconst ListenVersion = {\r\n  install(Vue, options) {\r\n    let currebtVersion\r\n    let setInterValId\r\n    let isUpdate = false\r\n\r\n    // 获取版本信息\r\n    const getVersion = async () => {\r\n      return fetch(`${options.versionUrl || '/dist'}/version.json?timeStamp=` + Date.now()).then(res => {\r\n        return res.json()\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n    }\r\n\r\n    // 检查是否有新版本\r\n    const checkUpdate = async () => {\r\n      const commitHash = (await getVersion()).commitHash\r\n      return commitHash !== currebtVersion\r\n    }\r\n\r\n    // 停止检查更新\r\n    const stopUpdate = () => {\r\n      if (setInterValId) {\r\n        console.log('停止检查更新')\r\n        clearInterval(setInterValId)\r\n        setInterValId = ''\r\n      }\r\n    }\r\n\r\n    // 开始检查更新\r\n    const startListen = async () => {\r\n      if (!options.showTest && (options.isTip === false || process.env.NODE_ENV === 'development')) return\r\n      const versionInfo = await getVersion()\r\n      if (!versionInfo || isUpdate) return\r\n      currebtVersion = versionInfo.commitHash\r\n      console.log('开始检查更新')\r\n      setInterValId = setInterval(async () => {\r\n        isUpdate = options.showTest || (await checkUpdate())\r\n        // 判断versionInfo.message是否有--no-tip字符，如果有则不提示更新\r\n        if ((isUpdate && versionInfo.isTip) || options.showTest) {\r\n          console.log('有新版本')\r\n          stopUpdate()\r\n          await callConfirm()\r\n        }\r\n      }, options.interval || 5 * 60 * 1000)\r\n    }\r\n\r\n    const callConfirm = async () => {\r\n      try {\r\n        const hasContent = options.modalProps && options.modalProps.content\r\n        await openConfirm({\r\n          content: hasContent ? options.modalProps.content : '为了更好的版本体验请更新到最新版本',\r\n          type: options.type || 'qingmu',\r\n        }, options.modalProps && options.modalProps.mountedEl)\r\n        window.location.reload()\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }\r\n\r\n    const listenPageVisible = () => {\r\n      if (document.hidden) {\r\n        stopUpdate()\r\n      } else {\r\n        startListen()\r\n      }\r\n    }\r\n\r\n    document.addEventListener('visibilitychange', listenPageVisible)\r\n\r\n    const listenJSError = async (event) => {\r\n      if (event.target.nodeName === 'SCRIPT') {\r\n        stopUpdate()\r\n        await callConfirm()\r\n      }\r\n    }  \r\n\r\n    if (options.isListenJSError) {\r\n      window.addEventListener('error', listenJSError)\r\n    }\r\n\r\n    startListen()\r\n  }\r\n}\r\n\r\nexport default ListenVersion\r\n","/*\r\n * @Description: \r\n * @Author: 舌红\r\n * @Date: 2024-01-10 16:16:52\r\n * @LastEditors: 舌红\r\n * @LastEditTime: 2024-02-19 18:49:54\r\n */\r\nimport ListenerLoader from \"./updateListener/index.js\"\r\nimport './updateListener/theme-chalk/index.scss'\r\n\r\n/**\r\n * 监听版本更新\r\n * @param {Object} Vue Vue对象\r\n * @param {Object} options 配置对象\r\n * @param {String} options.versionUrl 请求版本信息根目录路径，默认为'/dist'\r\n * @param {Number} options.interval 检查更新间隔时间，默认为5分钟，单位为毫秒\r\n * @param {Boolean} options.isTip 是否提示更新，默认为true\r\n * @param {Boolean} options.isListenJSError 是否监听JS报错，默认为false\r\n * @param {Object} options.modalProps 弹窗配置\r\n * @param {String} options.modalProps.content 弹窗内容\r\n * @param {Element} options.modalProps.mountedEl 弹窗挂载节点，默认为body\r\n * @param {String} options.type 弹窗样式类型，默认为'qingmu', 可选值为'element'、'qingmu'、'custom'(暂不支持)\r\n * @param {Boolean} options.showTest 弹窗常显测试\r\n * @returns {Void} 无返回值\r\n */\r\n\r\nexport default ListenerLoader\r\n\r\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__274__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","p","window","currentScript","document","src","match","modalPromise","comp","defaultConfig","mountedEl","config","removable","Promise","resolve","reject","props","assign","Ctor","Vue","vm","el","createElement","propsData","$on","data","$destroy","parent","$el","parentElement","removeChild","body","appendChild","render","_vm","_c","_self","confirmTypeNames","type","tag","attrs","content","on","confirm","cancel","staticRenderFns","staticClass","_v","_s","_t","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","script","component","components","ConfirmMask","String","default","methods","$emit","name","mixins","DefaultMixins","UpdateConfirmQingmu","UpdateConfirmElement","qingmu","element","async","openConfirm","ConfirmDialog","ListenVersion","install","currebtVersion","setInterValId","isUpdate","getVersion","fetch","versionUrl","Date","now","then","res","json","catch","err","console","log","checkUpdate","commitHash","stopUpdate","clearInterval","startListen","showTest","isTip","versionInfo","setInterval","callConfirm","interval","hasContent","modalProps","location","reload","error","listenPageVisible","hidden","addEventListener","listenJSError","event","target","nodeName","isListenJSError"],"sourceRoot":""}